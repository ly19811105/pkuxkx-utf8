//by boost 2007-08-03
//建立扬州大部分房间索引，并算出任意两个房间的距离（移动需要的步数）

//房间索引，共65个
protected nosave mapping city_map = 
([
			"/d/city/beimen" : 1,
			"/d/city/beidajie2" : 2,
			"/d/city/zuixianlou" : 3,
			"/d/city/zuixianlou2" : 4,
			"/d/city/zuixianlou2danjian" : 5,
                        "/d/city/xifu-tang" : 6,     //这个应该是/d/mary/xifu-tang，给弄错了，但是还是不删了，改动比较大
			"/d/city/beidajie1" : 7,
			"/d/city/qianzhuang" : 8,
			"/d/city/kedian" : 9,
			"/d/city/kedian2" : 10,
			"/d/city/kedian3" : 11,
			"/d/city/biwuchang" : 12,
			"/d/city/guangchang" : 13,
			"/d/city/dongdajie1" : 14,
			"/d/city/shuyuan" : 15,
			"/d/city/zahuopu" : 16,
			"/d/city/dongdajie2" : 17,
			"/d/city/yaopu" : 18,
			"/d/city/peiyaofang" : 19,
			"/d/city/datiepu" : 20,
			"/d/city/datiepu2" : 21,
			"/d/city/dongdajie3" : 22,
			"/d/city/huohang" : 23,
			"/d/city/petstore" : 24,
			"/d/city/dongmen" : 25,
			"/d/city/damen" : 26,
			"/d/city/shanzhuang" : 27,
			"/d/city/nandajie1" : 28,
			"/d/city/duchang" : 29,
			"/d/city/duchang2" : 30,
			"/d/city/puke-room" : 31,
			"/d/city/piggy" : 32,
			"/d/city/nproom" : 33,
			"/d/city/sproom" : 34,
			"/d/city/mjclub" : 35,
			"/d/city/dangpu" : 36,
			"/d/city/rbz" : 37,
			"/d/city/nandajie2" : 38,
			"/d/city/chaguan" : 39,
			"/d/city/lichunyuan" : 40,
			"/d/city/nandajie3" : 41,
			"/d/city/ytjie1" : 42,
			"/d/city/jiuguan" : 43,
			"/d/city/xiaochidian" : 44,
			"/d/city/ytjie2" : 45,
			"/d/city/xiemaodian" : 46,
			"/d/city/yidian" : 47,
			"/d/city/ytjie3" : 48,
			"/d/city/huadian" : 49,
			"/d/city/chadian" : 50,
			"/d/city/fangchan" : 51,
			"/d/city/nanmen" : 52,
                        "/d/city/xidajie1" : 53,
			"/d/city/yamen" : 54,
			"/d/city/yamen-datang" : 55,
			"/d/city/bingyindamen" : 56,
			"/d/city/xidajie2" : 57,
			"/d/city/caizhu" : 58,
			"/d/city/dayuan" : 59,
			"/d/city/houyuan" : 60,
			"/d/city/biaoju" : 61,
			"/d/city/zhengting" : 62,
			"/d/city/xidajie3" : 63,
			"/d/city/feilong-bang" : 64,
			"/d/city/ximen" : 65,

]);
		
//房间距离表，共65*(65+1)/2个

protected nosave mixed distance = 
({
	({  0,}),
	({  1,  0,}),
	({  2,  1,  0,}),
	({  3,  2,  1,  0,}),
	({  4,  3,  2,  1,  0,}),
	({  4,  3,  2,  1,  2,  0,}),
	({  2,  1,  2,  3,  4,  4,  0,}),
	({  3,  2,  3,  4,  5,  5,  1,  0,}),
	({  3,  2,  3,  4,  5,  5,  1,  2,  0,}),
	({  4,  3,  4,  5,  6,  6,  2,  3,  1,  0,}),
	({  5,  4,  5,  6,  7,  7,  3,  4,  2,  1,  0,}),
	({  3,  2,  3,  4,  5,  5,  1,  2,  2,  3,  4,  0,}),
	({  3,  2,  3,  4,  5,  5,  1,  2,  2,  3,  4,  2,  0,}),
	({  4,  3,  4,  5,  6,  6,  2,  3,  3,  4,  5,  3,  1,  0,}),
	({  5,  4,  5,  6,  7,  7,  3,  4,  4,  5,  6,  4,  2,  1,  0,}),
	({  5,  4,  5,  6,  7,  7,  3,  4,  4,  5,  6,  4,  2,  1,  2,  0,}),
	({  5,  4,  5,  6,  7,  7,  3,  4,  4,  5,  6,  4,  2,  1,  2,  2,  0,}),
	({  6,  5,  6,  7,  8,  8,  4,  5,  5,  6,  7,  5,  3,  2,  3,  3,  1,  0,}),
	({  7,  6,  7,  8,  9,  9,  5,  6,  6,  7,  8,  6,  4,  3,  4,  4,  2,  1,  0,}),
	({  6,  5,  6,  7,  8,  8,  4,  5,  5,  6,  7,  5,  3,  2,  3,  3,  1,  2,  3,  0,}),
	({  7,  6,  7,  8,  9,  9,  5,  6,  6,  7,  8,  6,  4,  3,  4,  4,  2,  3,  4,  1,  0,}),
	({  6,  5,  6,  7,  8,  8,  4,  5,  5,  6,  7,  5,  3,  2,  3,  3,  1,  2,  3,  2,  3,  0,}),
	({  7,  6,  7,  8,  9,  9,  5,  6,  6,  7,  8,  6,  4,  3,  4,  4,  2,  3,  4,  3,  4,  1,  0,}),
	({  7,  6,  7,  8,  9,  9,  5,  6,  6,  7,  8,  6,  4,  3,  4,  4,  2,  3,  4,  3,  4,  1,  2,  0,}),
	({  7,  6,  7,  8,  9,  9,  5,  6,  6,  7,  8,  6,  4,  3,  4,  4,  2,  3,  4,  3,  4,  1,  2,  2,  0,}),
	({  8,  7,  8,  9, 10, 10,  6,  7,  7,  8,  9,  7,  5,  4,  5,  5,  3,  4,  5,  4,  5,  2,  3,  3,  1,  0,}),
	({  9,  8,  9, 10, 11, 11,  7,  8,  8,  9, 10,  8,  6,  5,  6,  6,  4,  5,  6,  5,  6,  3,  4,  4,  2,  1,  0,}),
	({  4,  3,  4,  5,  6,  6,  2,  3,  3,  4,  5,  3,  1,  2,  3,  3,  3,  4,  5,  4,  5,  4,  5,  5,  5,  6,  7,  0,}),
	({  5,  4,  5,  6,  7,  7,  3,  4,  4,  5,  6,  4,  2,  3,  4,  4,  4,  5,  6,  5,  6,  5,  6,  6,  6,  7,  8,  1,  0,}),
	({  6,  5,  6,  7,  8,  8,  4,  5,  5,  6,  7,  5,  3,  4,  5,  5,  5,  6,  7,  6,  7,  6,  7,  7,  7,  8,  9,  2,  1,  0,}),
	({  7,  6,  7,  8,  9,  9,  5,  6,  6,  7,  8,  6,  4,  5,  6,  6,  6,  7,  8,  7,  8,  7,  8,  8,  8,  9, 10,  3,  2,  1,  0,}),
	({  7,  6,  7,  8,  9,  9,  5,  6,  6,  7,  8,  6,  4,  5,  6,  6,  6,  7,  8,  7,  8,  7,  8,  8,  8,  9, 10,  3,  2,  1,  2,  0,}),
	({  7,  6,  7,  8,  9,  9,  5,  6,  6,  7,  8,  6,  4,  5,  6,  6,  6,  7,  8,  7,  8,  7,  8,  8,  8,  9, 10,  3,  2,  1,  2,  2,  0,}),
	({  7,  6,  7,  8,  9,  9,  5,  6,  6,  7,  8,  6,  4,  5,  6,  6,  6,  7,  8,  7,  8,  7,  8,  8,  8,  9, 10,  3,  2,  1,  2,  2,  2,  0,}),
	({  6,  5,  6,  7,  8,  8,  4,  5,  5,  6,  7,  5,  3,  4,  5,  5,  5,  6,  7,  6,  7,  6,  7,  7,  7,  8,  9,  2,  1,  2,  3,  3,  3,  3,  0,}),
	({  5,  4,  5,  6,  7,  7,  3,  4,  4,  5,  6,  4,  2,  3,  4,  4,  4,  5,  6,  5,  6,  5,  6,  6,  6,  7,  8,  1,  2,  3,  4,  4,  4,  4,  3,  0,}),
	({  6,  5,  6,  7,  8,  8,  4,  5,  5,  6,  7,  5,  3,  4,  5,  5,  5,  6,  7,  6,  7,  6,  7,  7,  7,  8,  9,  2,  3,  4,  5,  5,  5,  5,  4,  1,  0,}),
	({  5,  4,  5,  6,  7,  7,  3,  4,  4,  5,  6,  4,  2,  3,  4,  4,  4,  5,  6,  5,  6,  5,  6,  6,  6,  7,  8,  1,  2,  3,  4,  4,  4,  4,  3,  2,  3,  0,}),
	({  6,  5,  6,  7,  8,  8,  4,  5,  5,  6,  7,  5,  3,  4,  5,  5,  5,  6,  7,  6,  7,  6,  7,  7,  7,  8,  9,  2,  3,  4,  5,  5,  5,  5,  4,  3,  4,  1,  0,}),
	({  6,  5,  6,  7,  8,  8,  4,  5,  5,  6,  7,  5,  3,  4,  5,  5,  5,  6,  7,  6,  7,  6,  7,  7,  7,  8,  9,  2,  3,  4,  5,  5,  5,  5,  4,  3,  4,  1,  2,  0,}),
	({  6,  5,  6,  7,  8,  8,  4,  5,  5,  6,  7,  5,  3,  4,  5,  5,  5,  6,  7,  6,  7,  6,  7,  7,  7,  8,  9,  2,  3,  4,  5,  5,  5,  5,  4,  3,  4,  1,  2,  2,  0,}),
	({  7,  6,  7,  8,  9,  9,  5,  6,  6,  7,  8,  6,  4,  5,  6,  6,  6,  7,  8,  7,  8,  7,  8,  8,  8,  9, 10,  3,  4,  5,  6,  6,  6,  6,  5,  4,  5,  2,  3,  3,  1,  0,}),
	({  8,  7,  8,  9, 10, 10,  6,  7,  7,  8,  9,  7,  5,  6,  7,  7,  7,  8,  9,  8,  9,  8,  9,  9,  9, 10, 11,  4,  5,  6,  7,  7,  7,  7,  6,  5,  6,  3,  4,  4,  2,  1,  0,}),
	({  8,  7,  8,  9, 10, 10,  6,  7,  7,  8,  9,  7,  5,  6,  7,  7,  7,  8,  9,  8,  9,  8,  9,  9,  9, 10, 11,  4,  5,  6,  7,  7,  7,  7,  6,  5,  6,  3,  4,  4,  2,  1,  2,  0,}),
	({  8,  7,  8,  9, 10, 10,  6,  7,  7,  8,  9,  7,  5,  6,  7,  7,  7,  8,  9,  8,  9,  8,  9,  9,  9, 10, 11,  4,  5,  6,  7,  7,  7,  7,  6,  5,  6,  3,  4,  4,  2,  1,  2,  2,  0,}),
	({  9,  8,  9, 10, 11, 11,  7,  8,  8,  9, 10,  8,  6,  7,  8,  8,  8,  9, 10,  9, 10,  9, 10, 10, 10, 11, 12,  5,  6,  7,  8,  8,  8,  8,  7,  6,  7,  4,  5,  5,  3,  2,  3,  3,  1,  0,}),
	({  9,  8,  9, 10, 11, 11,  7,  8,  8,  9, 10,  8,  6,  7,  8,  8,  8,  9, 10,  9, 10,  9, 10, 10, 10, 11, 12,  5,  6,  7,  8,  8,  8,  8,  7,  6,  7,  4,  5,  5,  3,  2,  3,  3,  1,  2,  0,}),
	({  9,  8,  9, 10, 11, 11,  7,  8,  8,  9, 10,  8,  6,  7,  8,  8,  8,  9, 10,  9, 10,  9, 10, 10, 10, 11, 12,  5,  6,  7,  8,  8,  8,  8,  7,  6,  7,  4,  5,  5,  3,  2,  3,  3,  1,  2,  2,  0,}),
	({ 10,  9, 10, 11, 12, 12,  8,  9,  9, 10, 11,  9,  7,  8,  9,  9,  9, 10, 11, 10, 11, 10, 11, 11, 11, 12, 13,  6,  7,  8,  9,  9,  9,  9,  8,  7,  8,  5,  6,  6,  4,  3,  4,  4,  2,  3,  3,  1,  0,}),
	({ 10,  9, 10, 11, 12, 12,  8,  9,  9, 10, 11,  9,  7,  8,  9,  9,  9, 10, 11, 10, 11, 10, 11, 11, 11, 12, 13,  6,  7,  8,  9,  9,  9,  9,  8,  7,  8,  5,  6,  6,  4,  3,  4,  4,  2,  3,  3,  1,  2,  0,}),
	({ 10,  9, 10, 11, 12, 12,  8,  9,  9, 10, 11,  9,  7,  8,  9,  9,  9, 10, 11, 10, 11, 10, 11, 11, 11, 12, 13,  6,  7,  8,  9,  9,  9,  9,  8,  7,  8,  5,  6,  6,  4,  3,  4,  4,  2,  3,  3,  1,  2,  2,  0,}),
	({  7,  6,  7,  8,  9,  9,  5,  6,  6,  7,  8,  6,  4,  5,  6,  6,  6,  7,  8,  7,  8,  7,  8,  8,  8,  9, 10,  3,  4,  5,  6,  6,  6,  6,  5,  4,  5,  2,  3,  3,  1,  2,  3,  3,  3,  4,  4,  4,  5,  5,  5,  0,}),
	({  4,  3,  4,  5,  6,  6,  2,  3,  3,  4,  5,  3,  1,  2,  3,  3,  3,  4,  5,  4,  5,  4,  5,  5,  5,  6,  7,  2,  3,  4,  5,  5,  5,  5,  4,  3,  4,  3,  4,  4,  4,  5,  6,  6,  6,  7,  7,  7,  8,  8,  8,  5,  0,}),
	({  5,  4,  5,  6,  7,  7,  3,  4,  4,  5,  6,  4,  2,  3,  4,  4,  4,  5,  6,  5,  6,  5,  6,  6,  6,  7,  8,  3,  4,  5,  6,  6,  6,  6,  5,  4,  5,  4,  5,  5,  5,  6,  7,  7,  7,  8,  8,  8,  9,  9,  9,  6,  1,  0,}),
	({  6,  5,  6,  7,  8,  8,  4,  5,  5,  6,  7,  5,  3,  4,  5,  5,  5,  6,  7,  6,  7,  6,  7,  7,  7,  8,  9,  4,  5,  6,  7,  7,  7,  7,  6,  5,  6,  5,  6,  6,  6,  7,  8,  8,  8,  9,  9,  9, 10, 10, 10,  7,  2,  1,  0,}),
	({  5,  4,  5,  6,  7,  7,  3,  4,  4,  5,  6,  4,  2,  3,  4,  4,  4,  5,  6,  5,  6,  5,  6,  6,  6,  7,  8,  3,  4,  5,  6,  6,  6,  6,  5,  4,  5,  4,  5,  5,  5,  6,  7,  7,  7,  8,  8,  8,  9,  9,  9,  6,  1,  2,  3,  0,}),
	({  5,  4,  5,  6,  7,  7,  3,  4,  4,  5,  6,  4,  2,  3,  4,  4,  4,  5,  6,  5,  6,  5,  6,  6,  6,  7,  8,  3,  4,  5,  6,  6,  6,  6,  5,  4,  5,  4,  5,  5,  5,  6,  7,  7,  7,  8,  8,  8,  9,  9,  9,  6,  1,  2,  3,  2,  0,}),
	({  6,  5,  6,  7,  8,  8,  4,  5,  5,  6,  7,  5,  3,  4,  5,  5,  5,  6,  7,  6,  7,  6,  7,  7,  7,  8,  9,  4,  5,  6,  7,  7,  7,  7,  6,  5,  6,  5,  6,  6,  6,  7,  8,  8,  8,  9,  9,  9, 10, 10, 10,  7,  2,  3,  4,  3,  1,  0,}),
	({  7,  6,  7,  8,  9,  9,  5,  6,  6,  7,  8,  6,  4,  5,  6,  6,  6,  7,  8,  7,  8,  7,  8,  8,  8,  9, 10,  5,  6,  7,  8,  8,  8,  8,  7,  6,  7,  6,  7,  7,  7,  8,  9,  9,  9, 10, 10, 10, 11, 11, 11,  8,  3,  4,  5,  4,  2,  1,  0,}),
	({  8,  7,  8,  9, 10, 10,  6,  7,  7,  8,  9,  7,  5,  6,  7,  7,  7,  8,  9,  8,  9,  8,  9,  9,  9, 10, 11,  6,  7,  8,  9,  9,  9,  9,  8,  7,  8,  7,  8,  8,  8,  9, 10, 10, 10, 11, 11, 11, 12, 12, 12,  9,  4,  5,  6,  5,  3,  2,  1,  0,}),
	({  6,  5,  6,  7,  8,  8,  4,  5,  5,  6,  7,  5,  3,  4,  5,  5,  5,  6,  7,  6,  7,  6,  7,  7,  7,  8,  9,  4,  5,  6,  7,  7,  7,  7,  6,  5,  6,  5,  6,  6,  6,  7,  8,  8,  8,  9,  9,  9, 10, 10, 10,  7,  2,  3,  4,  3,  1,  2,  3,  4,  0,}),
	({  7,  6,  7,  8,  9,  9,  5,  6,  6,  7,  8,  6,  4,  5,  6,  6,  6,  7,  8,  7,  8,  7,  8,  8,  8,  9, 10,  5,  6,  7,  8,  8,  8,  8,  7,  6,  7,  6,  7,  7,  7,  8,  9,  9,  9, 10, 10, 10, 11, 11, 11,  8,  3,  4,  5,  4,  2,  3,  4,  5,  1,  0,}),
	({  6,  5,  6,  7,  8,  8,  4,  5,  5,  6,  7,  5,  3,  4,  5,  5,  5,  6,  7,  6,  7,  6,  7,  7,  7,  8,  9,  4,  5,  6,  7,  7,  7,  7,  6,  5,  6,  5,  6,  6,  6,  7,  8,  8,  8,  9,  9,  9, 10, 10, 10,  7,  2,  3,  4,  3,  1,  2,  3,  4,  2,  3,  0,}),
	({  7,  6,  7,  8,  9,  9,  5,  6,  6,  7,  8,  6,  4,  5,  6,  6,  6,  7,  8,  7,  8,  7,  8,  8,  8,  9, 10,  5,  6,  7,  8,  8,  8,  8,  7,  6,  7,  6,  7,  7,  7,  8,  9,  9,  9, 10, 10, 10, 11, 11, 11,  8,  3,  4,  5,  4,  2,  3,  4,  5,  3,  4,  1,  0,}),
	({  7,  6,  7,  8,  9,  9,  5,  6,  6,  7,  8,  6,  4,  5,  6,  6,  6,  7,  8,  7,  8,  7,  8,  8,  8,  9, 10,  5,  6,  7,  8,  8,  8,  8,  7,  6,  7,  6,  7,  7,  7,  8,  9,  9,  9, 10, 10, 10, 11, 11, 11,  8,  3,  4,  5,  4,  2,  3,  4,  5,  3,  4,  1,  2,  0,}),
});


			
int Distance(int a,int b)
{
	if(a >= 1 && a <= 65 && b >= 1 && b <= 65)
	{
		if(a < b)
			return distance[b-1][a-1];
		else if(a > b)
			return distance[a-1][b-1];
		else 
			return 0;		
	}
	return -1;
}
int RoomIndex(string room)
{
 	return city_map[room];
}

int IsValidBombRoom(string room)
{
	return RoomIndex(room) > 0 ? 1 : 0;
}
int RoomDistance(string rooma, string roomb)
{
	return Distance(RoomIndex(rooma), RoomIndex(roomb));
}

